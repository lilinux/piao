piao
====

12306.cn 订票接口，一切只为可读与扩展

目标
----

分离购买逻辑和页面资源，构造好用、易扩展的接口API

使用
----

目前功能还较弱，只封装了购票需要的几个接口，实现了一个很简单的购票程序`simple.py`

**目前不建议非程序员使用**

1. 使用api

参考`simple.py`和`piao/api.py`的使用

2. 使用`simple.py`

在代码中修改用户名、密码、乘客姓名、车次、座位类型、代理(可选)

如果需要弹出验证码输入框，将`piao.policy.passcode_tool`改成`'tools/passwin_ui.py'`，否则设置为`None`

`passwin_ui.py`需要`Tkinter`, `PIL`库的支持


当前状态
----

**2014-01-20**

1. 提供了一个工具`passwin_ui.py`, 用以优化验证码输入体验
2. 增加了HTTP代理支持
3. 验证了动车车票的购买(二等座、一等座、特等座、商务座)
4. 优化了不同操作系统下的声音通知功能
5. 修复了windows上运行脚本的一些bug

**2014-01-18**

1. 实现了基本的接口。主要在`piao/api.py`中
2. 实现了简单的购票逻辑。`simple.py`可以指定车次，始发站，乘客循环查找和提交订单
3. 验证码体验较弱。会将验证码保存在`cache/passcode.png`中，在命令行等待输入验证码。在MacOS中，还会声音通知输入验证码，并打开png文件。
4. 动车车票的请求构造还有问题。

TODO
----
1. 异常测试
2. 多个操作系统的验证
3. 抢几张真正的票
4. 使用api，写几个实用工具
5. **易用性的持续优化**
